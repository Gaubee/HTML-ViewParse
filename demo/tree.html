<!DOCTYPE html>
<html>
<head>
	<title>HTML-ViewParse</title>
	<script type="text/javascript" src="../build/HTML-ViewParse.debug.js"></script>	
	<script type="text/javascript">
		(function (ie){if(!ie)return;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src","http://"+location.hostname+"/firebug-lite/build/firebug-lite.js");document.getElementsByTagName("head")[0].appendChild(b)}(!+"\v1")); 
	</script>
	<style type="text/css">
	</style>
</head>
<body>
	<ul id="tree"></ul>

	<script type="text/template" name="tree">
		{#each( {($THIS.list)} )}
			{#if( {==({($THIS.type)}{('folder')})} )}
				<li><p> {#if( {($THIS.title)} )} {(title)} {#else()} {($TOP.title)} {/if()}</p></li>
				<ul>
					{>( {('tree')} {($THIS)} )}
				</ul>
			{#else()}
				<li><a attr-href="#{(title)}">{#if( {($THIS.title)} )} {(title)} {#else()} {($TOP.title)} {/if()} {#if( {($THIS.type)})}.{(type)}{/if()}</a></li>
			{/if()}
		{/each()}
	</script>
</body>
</html>

<script type="text/javascript">
	ViewParser.scans();
	var model = DataManager({
			title:"Unknown",
			list:[{
				title:"hehe",
				type:"folder",
				list:[{
					title:"child",
					type:"css"
				},{
					title:"child_tree"
				},{},{},{},{},{}]
			},{
				title:"jser",
				type:"jsp"
			}]
		});
	ViewParser.modules["tree"](model).append(document.getElementById('tree'));
	setTimeout(function(){
		// model.set("list.1.type","folder")
		// model.set("list.1.list",[{},{}])
	},1000);
	// setTimeout(function(){
	// 	model.set("list.0.list.length",1);
	// },2000);
	// setTimeout(function(){
	// 	model.set("list.0.list.2",{title:"Gaubee",type:"folder",list:[{}]})
	// },3000);
</script>