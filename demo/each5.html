<!DOCTYPE html>
<html>
<head>
	<title>HTML-ViewParse</title>
	<script type="text/javascript">
		(function (ie){if(!ie)return;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src","http://"+location.hostname+"/firebug-lite/build/firebug-lite.js");document.getElementsByTagName("head")[0].appendChild(b)}(!+"\v1")); 
	</script> 
	<script type="text/javascript" src="../build/HTML-ViewParse.debug.js">
		{
			Data: {
				list1: [{
					name: "Gaubee"
				}, {
					name: "Bangeel"
				}, {
					name: "winter"
				}, {
					name: "Rubylover"
				}],
				list2: [
					"Gaubee",
					"Bangeel",
					"winter",
					"Rubylover"
				],
				list3: [{
					name: "Gaubee",
					age:21
				}, {
					name: "Bangeel",
					age:21
				}, {
					name: "winter",
					age:46
				}, {
					name: "Rubylover",
					age:32
				}],
				sort: {
					list1:null,
					type:"asc",
					change:function(e,vi){
						if (vi.get("sort.type")==="asc") {
							vi.set("sort.list1",vi.get("sort.asc"))
							vi.set("sort.type","desc")
						}else{
							vi.set("sort.list1",vi.get("sort.desc"))
							vi.set("sort.type","asc")
						}
					},
					asc: function(a, b) {
						return a.name.charAt(0) > b.name.charAt(0)
					},
					desc:function(b,a){
						return a.name.charAt(0) > b.name.charAt(0)
					}
				}
			}
		}
	</script>
</head>
<body id="HVP">

	<fieldset>
		<legend>asc sort | desc sort</legend>
		<button 
		  status-ready="{{'{{'list2_sort'}}={{'desc'}}'}}" 
		  status-click="{{'{{'list2_sort'}}={{'desc'}}'}}"
		>
			desc
		</button>
		<button 
		  status-click="{{'{{'list2_sort'}}={{'asc'}}'}}"
		>
			asc
		</button>
		<hr>
		{{#each list2,list2_sort}}<!-- desc asc  -->
		<div>
			{{$THIS}}
		</div>
		<br>
		{{/each}}
	</fieldset>
	<fieldset>
		<legend>sort by Function</legend>
		<button event-click="{{'sort.change'}}">To {{sort.type}}</button>
		<hr>
		{{#each list1,sort.list1}}
			{{name}}
			<br>
		{{/each}}
	</fieldset>
	<fieldset>
		<legend>sort by $KEY asc/desc</legend>
		<button status-click="{{'{{'sort.by'}}={{'by name asc'}}'}}">by name asc</button>
		<button status-click="{{'{{'sort.by'}}={{'by age desc'}}'}}">by age desc</button>
		<hr>
		{{#if sort.by}}
			now sort {{sort.by}}
		{{#else}}
			no sort now.
		{{/if}}
		<hr>
		{{#each list3,sort.by}}
			{{name}} is {{age}} years old.
			<br>
		{{/each}}
		<hr>
		<b>Result:</b>
		{{#each list3}}
			<small>{{name}} - </small>
		{{/each}}
	</fieldset>
</body>
</html>
<script>
	ViewParser.ready(function(){
		// App.set("sort")
	})
</script>