<!DOCTYPE html>

<head>
    <title>Custom Tag - jSouper</title>
    <script type="text/javascript" src="../build/jSouper.debug.js">
    {
        Id:"jSouperApp",
        Data:{
            qin:"ehhehe"
        }
    }
    </script>

</head>

<body>
    <div id="jSouperApp">
        <xmp type="tag" name="cc">
            <div class=${tagName}>
            <input value="${value}" bind-input="${bind-input}">
                cc:${innerHTML}
            </div>
        </xmp>
        <xmp type="tag" name="div">
            <div title="divdivdiv">
            __________
            ${innerHTML}
            ----------
            </div>
        </xmp>
        <xmp type="tag" name="img">
            <p><img title="${src}" bind-src="${src}"></p>
            <script type="text/vm">
                function(vm){
                    imgNode = vm.queryElement({
                        tagName:"IMG"
                    })[0];
                    if (!imgNode.src) {
                        //如果bind-src没有符合绑定的书写格式来解析的话，说明它可能是非绑定的图片链接
                        imgNode.src = imgNode.getAttribute("bind-src");
                    }
                    var ti;
                    imgNode.onload = function(){
                        var width = ~~imgNode.clientWidth;
                        var height = ~~imgNode.clientHeight;
                        clearInterval(ti);
                        var _i = 1;
                        var _d = 1;
                        ti = setInterval(function(){
                            imgNode.style.width = (width*_i)+"px";
                            imgNode.style.height = (height*_i)+"px";
                            if (_d == 1) {
                                _i*=0.9;
                            }else if(_d == 0){
                                _i/=0.6;
                            }
                            if (_i<0.01) {
                                _d = 0;
                            }else if(_i>1.5){
                                _d = 1;
                            }
                        },20)
                    }
                }
            </script>
        </xmp>
        <cc bind-input="{{'qin'}}" value="{{qin}}">????{{qin}}????</cc>
        <div><img src="http://localhost:2222/images/roll1.jpg"/></div>
    </div>
</body>

</html>